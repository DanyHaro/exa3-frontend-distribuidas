<app-principal></app-principal>

<div [formGroup]="form" style=" width: 70%; margin-left: 30px;">

    <div class="mb-3" style="width: 30%;">
        <h1 style="font-size: 30px;">AGREGA TU ARCHIVO</h1>
        <label for="exampleFormControlInput1" class="form-label">Nombre del Documento</label>
        <input required formControlName="nombre" name="nombre"  type="text" class="form-control" id="exampleFormControlInput1">
    </div>
    <div class="mb-3" style="width: 30%;">
        <div class="mb-3">
            <input id="imagenSheet" (change)="showFile($event)" class="form-control form-control-sm" id="formFileSm"
                type="file">
        </div>
        <button (click)="SendFile()" class="btn btn-primary">SUBIR</button>
    </div>

</div>

<!-- <form action="" class="form-group" style="width: 30%;">

    <h1>AGREGA TU ARCHIVO</h1>
    <div class="mb-3">
        <input id="imagenSheet" (change)="showFile($event)" class="form-control form-control-sm" id="formFileSm"
            type="file">
    </div>

    <button (click)="SendFile()" class="btn btn-primary">SUBIR</button>

</form> -->



<div class="container" style="margin-top: 15px;">
    <div class="card">
        <div class="card-header">
            <h1>Lista</h1>
        </div>
        <div class="card-body">
            <table class="table table-hover">
                <thead style="text-align: center;">
                    <tr>
                        <th>NÂº</th>
                        <th>NOMBRE</th>
                        <th>TITULO</th>
                        <th>TIPO</th>
                        <th>DOCUMENTO</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody style="text-align: center;" *ngFor="let files of archivoArray; let i = index">
                    <tr>
                        <td>{{i+1}}</td>
                        <td>{{files.nombres}}</td>
                        <td>{{files.titulo}}</td>
                        <td>{{files.tipo}}</td>
                        <td data-bs-toggle="modal" data-bs-target="#staticBackdrop" (click)="mostrarFile(files.url)"><i
                                style="cursor: pointer;" class="far fa-eye fa-2x"></i></td>
                        <td>
                            <i (click)="eliminarArchivo(files)" class="far fa-trash-alt fa-2x"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">Mi Documento</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">


                <!-- <ngx-doc-viewer *ngIf="etiqueta" url={{archivomostrar}} viewer="google" style="width: 100%; height: 50vh;">
                </ngx-doc-viewer> -->

                <div *ngIf="archivomostrar">

                    <div style="width: 100%; height: 50vh;" *ngIf="etiqueta == false">
                        <ngx-doc-viewer   style="border:1px solid black" url="{{archivomostrar}}" viewer="google" style="width: 100%; height: 50vh;"></ngx-doc-viewer>                                  
                    </div>

                    <div style="width: 100%; height: 50vh;" *ngIf="etiqueta == true"> 
                      <img src="{{archivomostrar}}"  style="width:100%;height:100%">                                  
                    </div>

                </div>


            </div>

        </div>
    </div>
</div>